input {
    http {
        threads => 4
    }
}
filter {
    grok {
        if [headers][http_user_agent] == "Logplex/v132" {
            match => {"message" => "%{GREEDYDATA:syslog_message}" }
        }
    }
    mutate { remove_field => [ "headers", "@version" ] }
}
output {
    stdout {}
    elasticsearch {
        hosts => "${HOST}"
        user => "${HOST_USER}"
        password => "${HOST_PASSWORD}"
        index => "heroku-logstash-%{+YYYY.MM.dd}"
    }
}